# Local filesystem mounting

# Parameter: Where to mount the filesystem
mountroot ()
{
	run_scripts /scripts/local_top

	# Get the root filesystem type
	if [ ! -e ${ROOT} ]; then
		panic "ALERT!  ${ROOT} does not exist.  Dropping to a shell!"
	fi

	eval $(fstype < ${ROOT})

	run_scripts /scripts/local_premount

	# Mount root
	mount ${ro} -t ${FSTYPE} ${ROOT} ${rootmnt}

	run_scripts /scripts/local_bottom
}
